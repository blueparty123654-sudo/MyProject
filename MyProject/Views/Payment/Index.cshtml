@{
    // คำสั่งนี้สำคัญมาก: เป็นการบอกว่าหน้านี้ไม่ต้องใช้ _Layout.cshtml
    Layout = null;
}

<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <title>ทดสอบปฏิทิน พ.ศ.</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-datepicker@1.10.0/dist/css/bootstrap-datepicker3.min.css" rel="stylesheet">

    <style>
        body {
            padding: 2rem;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ทดสอบ Bootstrap Datepicker (พ.ศ.)</h1>
        <p>คลิกที่ช่องกรอกด้านล่างเพื่อดูผลลัพธ์ ถ้าเห็นปีเป็น <strong>2568</strong> แปลว่าทำงานถูกต้อง</p>

        <div class="form-group" style="width: 300px;">
            <label for="datepicker-th">เลือกวันเกิด</label>
            <input type="text" class="form-control" id="datepicker-th" placeholder="คลิกเพื่อเลือกวันที่..." autocomplete="off">
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap-datepicker@1.10.0/dist/js/bootstrap-datepicker.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap-datepicker@1.10.0/dist/locales/bootstrap-datepicker.th.min.js"></script>

    <script>
        // ใช้ $(document).ready() เพื่อให้แน่ใจว่า jQuery และ DOM พร้อมใช้งาน
        $(document).ready(function(){

            // ✨ "สอน" ให้ Datepicker รู้จักการคำนวณปี พ.ศ. ✨
            // ต้องทำ "ก่อน" ที่จะสร้างปฏิทินเสมอ
            if ($.fn.datepicker.dates['th']) {
                 $.fn.datepicker.dates['th'].getFullYear = function(d) {
                    return new Date(d).getFullYear() + 543;
                };
            }

            // ✨ สั่งให้ช่องกรอก #datepicker-th แปลงร่างเป็นปฏิทิน ✨
            $('#datepicker-th').datepicker({
                format: "dd/mm/yyyy",
                language: "th",
                autoclose: true,
                todayHighlight: true
            });
        });
    </script>

</body>
</html>